book (
	title: "Prueba de Respuestas y Condiciones",
	author: "Javier Candales"
)

// Clonables
dictionary {
	noun(names: "suelo, piso, -suelo") {
		set { "fixed" "scene" }
		describe-object() {
			"No hay nada interesante en el suelo."
		}
	}

	noun(names: "paredes, pared, muros, muro, -paredes") {
		set { "fixed" "female" "plural" "scene" }
		describe-object() {
			"Las paredes vacias hacen mas decadente el lugar."
		}
	}

	noun(names: "techo, cielorraso, -techo") {
		set { "fixed" "scene" }
		describe-object() {
			"No se puede ver nada en el techo."
		}
		
		before(actions: "TouchObject, PushObject, PullObject, TakeObject, PressObject",
				cancel: true) {
			"Está muy alto."
		}
	}
}

dictionary {
	noun(names: "La Bodega, bodega") {

		describe-place {
			"En la oscura bodega alcanzo a ver botellas, barriles y un cofre."
		}

		noun(names: "jugador, player, -player") {
		}

		noun(names: "botellas, botella") {
			set { "female" "plural" "scene" }

			describe-object {
				"Opacadas por el polvo de años, todas con el cuello inclinado hacia abajo."
			}

			before(actions: "TakeObject, PushObject, PullObject, PressObject", cancel: true) {
				"Ni en broma tocaré las botellas, deben ser carísimas."
			}
		}

		noun(names: "barriles, barril") {
			set { "plural" "heavy" "container" "closable" "closed" "scene" }
			
			describe-object {
				"Tres barriles de medio hombre de altura se alzan desde el suelo. Parecen de roble."
			}

			before(actions: "OpenObject", cancel: true) {
				"No creo que pueda abrir semejante bestia solo con mis manos."
			}

			before(actions: "LookInside", cancel: true) {
				"No puedo ver su interior, pero me juego que es brandy."
			}
		}

		noun(names: "cofre, baul") {
			set { "heavy" "container" "closable" "closed" "scene" }

			describe-object {
				"De tablones unidos con planchas de hierro, descanza un cofre en el rincón de la bodega."
			}

			noun(names: "llave pequeña, llave") {

				set { "female" }

				after(actions: "ExamineObject") {
					"La pequeña llave es de bronce."
				}
			}
		}

		noun(names: "papel, papelito, nota, notita") {
			describe-object {
				"Un pequeño trozo de papel."
			}

			describe-object {
				if-is-not-set(instance: "notita", attr: "leida")
				"Tiene algo escrito."
			}

			describe-object {
				if-is-set(instance: "notita", attr: "leida")
				"Tiene escrito un código de seis números."
			}

			before(actions: "ReadObject", cancel: true) {
				"La nota dice:"
				'"5 6 8 0 1 3"'
				attr(instance: "notita", set: "leida, definited")
				append-name(instance: "notita", name: "código de acceso")
			}
		}

		clone(instance: "-suelo")
		clone(instance: "-paredes")
		clone(instance: "-techo")

	}
}
